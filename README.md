# 📅 CampusMate - 校園王 (v6.0)

**校園王 (CampusMate)** 是一個專為學生設計的 Web OS 風格個人化校園生活管理助手 (PWA)。
整合課表、成績、記帳、學習進度與全新升級的社群討論區，透過雲端同步，讓你在任何裝置上都能輕鬆管理校園生活。

[![GitHub Repo stars](https://img.shields.io/github/stars/yourusername/campusmate?style=social)]()
![Version](https://img.shields.io/badge/version-6.0-blue.svg) ![Firebase](https://img.shields.io/badge/database-Firebase-orange.svg) ![PWA](https://img.shields.io/badge/PWA-Supported-green.svg)

---

## 📱 核心體驗 (Core Experience)

### 🖥️ 類手機桌面介面 (App Launcher UI)
* **Web OS 架構**：採用應用程式化 (App-based) 設計，所有功能皆為獨立 App 圖示，操作直覺如同手機桌面。
* **SPA 單頁應用**：深度整合 History API，切換功能不刷新頁面，並支援瀏覽器「上一頁」導航。
* **深色模式 (Dark Mode)**：內建淺色/深色主題切換，夜晚使用更護眼。
* **PWA 支援**：支援安裝至手機主畫面，並具備離線快取能力 (Service Worker)，無網路也能查看課表。

---

## 🚀 完整功能模組 (All Features)

### 📅 1. 智慧課表 (Schedule)
* **雙視圖切換**：
    * **單日清單**：清楚顯示當天的課程、教室與老師。
    * **完整週課表**：傳統表格視圖，支援自動合併連堂課程 (Rowspan)。
* **智慧排課**：
    * 支援輸入 `1-3` 自動建立三堂連堂課程。
    * 自訂節次時間設定 (上課/下課分鐘數)。
    * 支援特殊節次代碼 (0-9, A-D, N)。
* **實用工具**：
    * **圖片匯出**：一鍵將週課表轉存為高畫質 PNG 圖片。
    * **上課提醒** 🔔：結合瀏覽器通知 API，於課程前 10 分鐘自動發送推播。
    * **課程標籤**：自動根據修別 (必修/選修) 標示不同顏色。

### 💯 2. 成績管理 (Grade Manager)
* **深度雙身分核心**：
    * **高中生模式**：專注於「必修 vs 選修」學分統計。
    * **大學生模式**：支援「通識、核心、專業、自由選修」等模組化學分管理。
* **多維度成績紀錄**：
    * **平時考/小考**：獨立紀錄各科目的多次小考成績。
    * **段考/期中考**：紀錄重大考試成績。
    * **學期總成績**：計算最終 GPA 與學分。
* **智慧分析**：
    * **GPA 計算機**：自動計算學分加權平均。
    * **畢業進度條**：視覺化顯示距離畢業門檻的學分達成率。
    * **趨勢圖表**：繪製歷年成績折線圖，並自動標示 60/80 分參考線。

### 💰 3. 學期記帳 (Accounting)
* **完整交易類型**：支援 **收入**、**支出** 與 **轉帳** (帳戶間互轉)。
* **資產帳戶管理**：
    * 可自訂支付方式 (如：現金、LINE Pay、悠遊卡、私房錢)。
    * 即時顯示各帳戶餘額。
* **圖表分析**：
    * **儀表板**：即時顯示本學期總收支與淨結餘。
    * **月報表**：長條圖分析每月收支變化。
    * **日統計**：詳細列出每日花費總額。

### 💬 4. 校園討論區 (Discussion)
* **即時社群**：基於 Firestore 實時更新的討論板，無需刷新即可看到新貼文。
* **留言回覆**：支援對特定貼文進行回覆，讓討論更聚焦。
* **Emoji 支援**：內建表情符號選單，輕鬆插入 😀，互動更生動。
* **匿名發文**：支援勾選「匿名身分」，保護學生隱私。
* **管理功能**：作者可編輯或刪除自己的文章/留言，系統管理員擁有全域管理權限。

### 🗓️ 5. 行事曆 (Calendar)
* **月曆視圖**：視覺化的月曆網格，支援月份切換。
* **學期週次計算**：自動根據設定的「開學日」，在標題顯示目前是學期第幾週。

### 📚 6. 學習進度 (Learning)
* **目標追蹤**：自訂科目與目標單位 (如：頁數、章節、題目數)。
* **進度可視化**：
    * 進度條顏色隨完成度變化 (紅→橘→綠)。
    * 支援 `+` / `-` 快速按鈕調整進度。

### 🛠️ 7. 生活工具箱
* **📝 快述記事 (Notes)**：支援時間戳記的簡易備忘錄。
* **💝 紀念日 (Anniversary)**：
    * 支援過去/未來日期計算。
    * 自動顯示「還有 X 天」或「已過去 X 天」。
    * 當日壽星/紀念日會以紅色高亮顯示。
* **🎰 幸運籤筒 (Lottery)**：
    * 自訂分類與選項 (如：午餐吃什麼)。
    * 隨機抽籤動畫特效。

### ⚙️ 8. 系統與雲端 (System)
* **Firebase 雲端同步**：
    * 支援 Email、Google 登入與匿名試用。
    * 資料自動加密備份至雲端，跨裝置無縫接軌。
* **多學期檔案系統**：
    * 支援建立無限多個學期 (如 113-1, 113-2, 114-1)。
    * 舊學期資料自動封存，可隨時切換檢視。
* **系統公告**：管理員可發布全域公告，支援編輯與刪除。
* **帳號安全**：支援密碼重設與帳號永久註銷 (Delete Account) 功能。

---

## 🛠️ 技術架構 (Tech Stack)
* **Frontend**: HTML5, CSS3, JavaScript (Vanilla ES6+)
* **Backend**: Google Firebase (Firestore, Auth, Hosting)
* **Tools**: 
    * `Chart.js` (成績與記帳圖表)
    * `html2canvas` (課表匯出圖片)

## 📂 專案結構 (Project Structure)

```text
/
├── index.html          # 應用程式主入口 (SPA 架構)
├── manifest.json       # PWA 設定檔
├── sw.js               # Service Worker (離線快取控制)
├── css/
│   ├── base.css        # 全域變數 (深色模式定義)
│   ├── layout.css      # 響應式佈局 (Grid/Flex)
│   ├── components.css  # 卡片、按鈕、表格元件
│   └── pages.css       # 特定頁面樣式
└── js/
    ├── main.js         # 程式入口
    ├── auth.js         # Firebase 驗證 (登入/註冊/註銷)
    ├── ui.js           # 路由控制、Modal 元件、公告系統
    ├── state.js        # 全域狀態管理
    ├── data.js         # 資料存取層 (Local + Cloud Sync)
    ├── course.js       # 課表邏輯 (連堂處理/圖片匯出)
    ├── grade.js        # 成績計算、GPA、圖表繪製
    ├── accounting.js   # 記帳邏輯 (轉帳/帳戶管理)
    ├── semester.js     # 學期檔案管理
    ├── discussion.js   # 討論區 (即時監聽/匿名發文/回覆系統)
    ├── firebase.js     # SDK 初始化
    ├── notification.js # 上課通知邏輯
    ├── calendar.js     # 行事曆邏輯
    ├── notes.js        # 記事本邏輯
    ├── anniversary.js  # 紀念日邏輯
    ├── learning.js     # 學習進度邏輯
    └── lottery.js      # 幸運籤筒邏輯
```
## 👨‍💻 開發者 (Developer)
Produced by **Huang Zhaohong**

### 完成！
已經成功將一個原本傳統的網頁應用程式，轉型成一個架構現代、操作流暢的 Web OS 風格應用了。從資料結構的學期制、成績計算的自動化，到現在的 UI 體驗優化，這已經是一個非常完整的專案。👏